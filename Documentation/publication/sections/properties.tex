\section{Properties of \oslos~Semantic}
\label{sec:properties}

In this section, we discuss the properties of the OSL semantics that show how we can capture memory usages risks. All the intuitions of the proofs are presented in Appendix \ref{app:proof-intuitions}. Recall that intuitively a \oslos~ triple: $(\confosl, P,t)$ states that the program $P$ is evaluated under $\confosl$ and timer $t$. To denote this evaluation, we will use the notation: $\llbracket P \rrbracket \confosl~t$. Additionally, a \oslos~ \textbf{configuration} is a Set of triple noted $\cfg{(\confosl, P,t), CS}$, where we use notation $CS$ to denote the tail of the Set.

\begin{definition}[Reachable States]
\label{def:reachablestates}
The configuration of reachable states $\\ \cfg{CS'}$ from $\cfg{(\confosl, P, t), CS}$, contains all the intermediate states generated by the derivation rules from $\llbracket P \rrbracket \confosl~t$.
 We use the notation: $\cfg{(\confosl, P, t), CS}\rightsquigarrow^* \cfg{CS' \cup CS}$ to define that the new states in $CS'$ are reachable from $(\confosl, P, t)$.
\end{definition}

In order to show that the OSL semantics is sound, we must show that its configuration induce valid semantics configurations: if a configurations $\vdash \cfg{(\confosl, P, t), CS}\rightsquigarrow^* \cfg{CS' \cup CS}$ using the derivation rules of \oslos, then $\models \cfg{(\confosl, P, t), CS} \rightsquigarrow^* \cfg{CS' \cup CS}$ holds. Put formally: $\models \cfg{(\confosl, P, t), CS} \rightsquigarrow^* \cfg{CS' \cup CS} \xLeftrightarrow{\text{def}} \exists t_1,.., t_n \in \mathbb{N}$ such that $CS' = \llbracket P \rrbracket \confosl~t_i$.

\begin{theorem}[Soundness]
\label{thm:soundness}
For all $P, \confosl, t, CS$, if $\vdash \cfg{(\confosl, P, t), CS}\rightsquigarrow^* \cfg{CS' \cup CS}$ is derivable using the rules of \oslos,~then $~\models \cfg{(\confosl, P, t), CS}\rightsquigarrow^* \cfg{CS' \cup CS}$ holds.
\end{theorem}

We next present the theorems that guarantee the memory safety discussed in \autoref{ssec:detecting-mem-bugs}.

\begin{theorem}[No Double free]
\label{thm:no-double-free}
For all triple $(\confoslunfold, P, t)$ in a configuration $OS$,
there does not exist a $\cfg{(\confoslunfold, \term{free(x)}, t), CS}\rightsquigarrow^*\\
\cfg{(\confoslunfoldp, \term{free(x)}, t'), CS'}$  $\text{ with } x \in \env,\env'$  that holds.
\end{theorem}

\begin{theorem}[No Dangling Pointers]
\label{thm:no-dangling-pointers}
Let the triple $(\confosl, P, t)$ a state of a configuration $OS$, where $\confosl = \confoslunfold$, and $CS'$ the reachable states\\ $\cfg{(\confosl, P, t), CS}
\rightsquigarrow^*  \cfg{CS' \cup CS}$ derived from $(\confosl, P, t)$. There does not exists a reachable triple $(\confosl', P', t') \in CS'$ with $\confosl' = \confoslunfoldp$,
that satisfies $\forall l \mapsto_{tb,te} \term{anyRef}(l') \in \store \land l' \mapsto x$ with $x \neq \bot$ and $tb \leq t' \leq te \land (l' \mapsto \bot) \in \store'$ in the reachable state environment.
\end{theorem}

\begin{theorem}[No Data Races]
\label{thm:no-data-races}
Let the triple $(\confosl, P, t)$ a state of a configuration $OS$, where $\confosl = \confoslunfold$, and $CS'$ the reachable states\\ $\cfg{(\confosl, P, t), CS}
\rightsquigarrow^*  \cfg{CS' \cup CS}$ derived from $(\confosl, P, t)$. There does not exists a reachable state $(\confosl', P', t') \in CS'$ where $\confosl' = \confoslunfoldp$,
with a pair of references referring the same location $l_1 \mapsto_{lf(b1,e1)}, \term{anyRef}(l) \land l_2\mapsto_{lf(b2,e2)}\term{\#mutRef}(l)$ in $\store'$, that their usage interleaves. This means that the intersection of the closed intervals $[b1,e1]$ and $[b2, e2]$ is not empty. 
\end{theorem}